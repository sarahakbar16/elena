# from typing_extensions import Required
from flask import request
from flask_restful import Resource, reqparse

import osmnx
# import requests
# import time

import networkx as nx
# import pandas as pd


class MainModel(Resource):

    parser = reqparse.RequestParser()


    def post(self):
        data = self.parser.parse_args()
        


        source = "umass police station"
        destintion = "puffton village apartments"

        source_coord = osmnx.geocoder.geocode(source)
        destination_coord = osmnx.geocoder.geocode(destintion)
        is_max = True
        percentage = 50
        print(source_coord)
        print(destination_coord)

        params = dict()
        params['city']  = "Amherst"
        params['state'] = "Massachusetts"
        params['country'] = 'USA'
        graph = osmnx.graph_from_place(params, network_type='drive')
        # graph = self.add_node_elevations_open(G=graph)
        # call methods to 
        # gen map
        # find node ids
        # add elevation
        # call algo

        return {'elevation_route': {'properties': {}, 'type': 'Feature', 'geometry': {'type': 'LineString', 'coordinates': [[-72.5267259, 42.3949912], [-72.5266267, 42.3948054], [-72.5264683, 42.3948625], [-72.5263769, 42.3946945], [-72.5264236, 42.3944708], [-72.5263414, 42.3943294], [-72.52621, 42.3943877], [-72.5260052, 42.3940702], [-72.5261456, 42.3939664], [-72.5260843, 42.3938609], [-72.5259905, 42.3937022], [-72.5258105, 42.3937557], [-72.5257822, 42.3937107], [-72.5256668, 42.3935153], [-72.5258221, 42.3934125], [-72.5259278, 42.393386], [-72.5260382, 42.3933506], [-72.5260832, 42.3933334], [-72.5263799, 42.3931765], [-72.5264097, 42.3931617], [-72.5265187, 42.3931037], [-72.5266706, 42.3930229], [-72.5264263, 42.3929309], [-72.5263599, 42.3928683], [-72.5265695, 42.3926305], [-72.5265987, 42.3923968], [-72.5263717, 42.3924303], [-72.5261106, 42.3925082], [-72.5256909, 42.3925689], [-72.5256131, 42.3925804], [-72.5255654, 42.392416], [-72.5254234, 42.3924411], [-72.5254075, 42.3923878], [-72.5253403, 42.392081], [-72.5252963, 42.3918755], [-72.5250612, 42.3919041], [-72.5249888, 42.3915999], [-72.525235, 42.3916213], [-72.5251611, 42.3911901], [-72.5251481, 42.3911193], [-72.5249132, 42.3907736], [-72.525083, 42.3907658], [-72.5252034, 42.390757], [-72.5253126, 42.3907461], [-72.5256145, 42.3907163], [-72.526003, 42.390658], [-72.526213, 42.3906364], [-72.5267512, 42.3905813], [-72.5273495, 42.3905028], [-72.5278483, 42.390388], [-72.5280162, 42.3903586], [-72.5279512, 42.3901634], [-72.5281761, 42.3901123], [-72.5284819, 42.3900429], [-72.5286544, 42.3900037], [-72.5286954, 42.390098], [-72.5288522, 42.3899947], [-72.5290861, 42.3901127], [-72.5291416, 42.3900987], [-72.5292643, 42.3900678], [-72.5291481, 42.3898693], [-72.5293434, 42.3898172], [-72.5296188, 42.3897583], [-72.5298164, 42.3897156], [-72.530084, 42.3896617], [-72.530144, 42.3896498], [-72.5300924, 42.3895184], [-72.5300165, 42.389343], [-72.529947, 42.3891824], [-72.5296785, 42.3892523], [-72.529413, 42.389185], [-72.5293612, 42.3891947], [-72.5290321, 42.3892563], [-72.5289597, 42.3892761], [-72.5286748, 42.3890126], [-72.5286122, 42.3888572], [-72.5285347, 42.388665], [-72.5281905, 42.3885003], [-72.5279155, 42.3883654], [-72.527918, 42.3880893], [-72.5277884, 42.3881048], [-72.5277109, 42.3879461], [-72.5276278, 42.3877586], [-72.5276116, 42.3877221], [-72.52763, 42.3876161], [-72.5276775, 42.3873415], [-72.5273719, 42.3871815], [-72.5273249, 42.3870753], [-72.5271789, 42.386746], [-72.5272442, 42.3866558], [-72.527569, 42.3862603], [-72.5276523, 42.386211], [-72.5276256, 42.3861386], [-72.5278232, 42.3859923], [-72.5277657, 42.3858256], [-72.5282751, 42.385723], [-72.5283084, 42.3855391], [-72.5283376, 42.3853692], [-72.5284678, 42.3854147], [-72.5285235, 42.384936], [-72.528533, 42.384868], [-72.5285575, 42.3847075], [-72.5285718, 42.3846229], [-72.5286609, 42.3846231], [-72.5287485, 42.3846232], [-72.5287791, 42.3846255], [-72.5295353, 42.3847339], [-72.5297452, 42.3847865], [-72.529718, 42.384877], [-72.5309634, 42.385052], [-72.531276, 42.385039], [-72.53249, 42.384784], [-72.5323711, 42.3843993]]}}, 'shortest_route': {'properties': {}, 'type': 'Feature', 'geometry': {'type': 'LineString', 'coordinates': [[-72.5267259, 42.3949912], [-72.5266267, 42.3948054], [-72.5264236, 42.3944708], [-72.5263414, 42.3943294], [-72.5261456, 42.3939664], [-72.5262564, 42.3939275], [-72.5263269, 42.3939052], [-72.5261905, 42.3935967], [-72.5263799, 42.3931765], [-72.5264097, 42.3931617], [-72.5264263, 42.3929309], [-72.5263599, 42.3928683], [-72.5265695, 42.3926305], [-72.5266059, 42.3926178], [-72.5269049, 42.3925138], [-72.5274718, 42.3923851], [-72.5276774, 42.39212], [-72.527927, 42.3916928], [-72.5280328, 42.3913773], [-72.5281477, 42.3910484], [-72.5282568, 42.3907962], [-72.5284814, 42.3903445], [-72.5285398, 42.390247], [-72.5286544, 42.3900037], [-72.5286075, 42.3898866], [-72.528595, 42.3898567], [-72.5284761, 42.3895738], [-72.5284662, 42.3895503], [-72.528392, 42.3893817], [-72.5284705, 42.3893661], [-72.5289597, 42.3892761], [-72.5290321, 42.3892563], [-72.5293612, 42.3891947], [-72.529413, 42.389185], [-72.5297251, 42.3888725], [-72.5297907, 42.3888066], [-72.5298448, 42.388742], [-72.5298316, 42.3887125], [-72.5305206, 42.3880014], [-72.5304488, 42.387936], [-72.5305251, 42.3875393], [-72.5305038, 42.3874623], [-72.530253, 42.386981], [-72.5313467, 42.3866724], [-72.5309726, 42.3857393], [-72.530962, 42.385163], [-72.5309634, 42.385052], [-72.531276, 42.385039], [-72.53249, 42.384784], [-72.5323711, 42.3843993]]}}, 'shortDist': 1566.0160000000003, 'gainShort': 30.0, 'dropShort': 52.0, 'elenavDist': 2494.1000000000004, 'gainElenav': 56.0, 'dropElenav': 78.0, 'popup_flag': 2}